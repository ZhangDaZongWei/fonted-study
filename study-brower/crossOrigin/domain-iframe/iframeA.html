<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>domain+iframe跨域A页面</title>
</head>

<body>
  <!-- 二级域名相同，端口也要相同 -->
  <h1>domain+iframe A</h1>
  <iframe id="iframeB" name="iframeB" style="display: none;" src="http://127.0.0.1:5500/crossOrigin/domain-iframe/iframeB.html"
    frameborder="1"></iframe>

  <script>
    document.domain = "127.0.0.1"
    var a = 3
    const iframeB = document.getElementById("iframeB")
    // 必须要等iframeB加载完了之后再进行操作
    iframeB.onload = function() {
      console.log(iframeB.contentWindow.document.getElementById("h1"))
      console.log(iframeB.contentWindow.b)
    }
  </script>
</body>

</html>