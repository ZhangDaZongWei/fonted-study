<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Storage</title>
</head>
<body>
  <!-- 
    终于来到了令人激动的章节了--- Web存储
    以前都是使用cookie，其实我在这方面所用的真的比较少呀！
    cookie存储在客户端，而且有大小限制，并且不太安全
    所以H5增加了localStorage和sessionStorage两个用于客户端存储数据的对象！
    1. localStorage: 长久保存整个网站的数据，除非主动清除
    2. sessionStorage: 临时保存同一窗口(或标签页)的数据，不过一旦关闭就会删除
    3. 注意！上述两个对象的键值对都是字符串哦，所以其他类型的都会转成字符串，
       要注意这其中的转换
    4. 两个对象有相同的API：
       1. setItem(key,value)
       2. getItem(key)
       3. removeItem(key)，删除单个数据
       4. clear()，清除所有数据
       5. key(index)，得到某个索引的key
    5. localStorage和sessionStorage有各自的作用域：
       1. localStorage只要在相同的协议、相同的主机名、相同的端口下，就能读取/修改到同一份localStorage数据。
       2. 除了协议、主机名、端口外，还要求在同一窗口（也就是浏览器的标签页）下。
   -->

   <div>
     <h1></h1>
     <h2></h2>
     <button onclick="clearStorage();">清除localStorage</button>
   </div>

   <script>
     let h1 = document.querySelector('h1')
     let h2 = document.querySelector('h2')
     let obj = {
        content: 'Web 存储'
      }
      //  就如使用普通对象一样，键值对的形式
      localStorage.pageName = JSON.stringify(obj)
      sessionStorage.subPageName = 'session'
      h1.innerHTML = JSON.parse(localStorage.pageName).content
      h2.innerHTML = sessionStorage.subPageName
      function clearStorage() {
        localStorage.clear()
      }
   </script>
</body>
</html>